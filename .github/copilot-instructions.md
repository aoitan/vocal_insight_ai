# GitHub Copilot PR Review Instructions

## 基本方針
- **日本語でレビューコメントを作成してください**
- **技術的な内容も日本語で説明してください**
- **コードの問題点や改善提案は具体的で建設的なコメントにしてください**

## レビュー言語設定
**すべてのレビューコメント、概要、説明は日本語で記述してください。**

## レビュー観点

### コード品質
- **可読性**: コードが理解しやすいかを日本語で評価
- **保守性**: 将来の変更に対応しやすい構造かを確認
- **性能**: パフォーマンスの問題がないかをチェック
- **セキュリティ**: セキュリティ上の問題がないかを検証

### アーキテクチャ
- **設計**: モジュール設計が適切かを評価
- **統合**: 既存システムとの統合が適切かを確認
- **拡張性**: 将来の機能拡張に対応できる設計かを評価

### テスト
- **カバレッジ**: テストが十分にカバーされているかを確認
- **品質**: テストコードの品質を評価
- **実用性**: 実際に有用なテストが含まれているかを確認

## プロジェクト固有の観点

### VocalInsight AI固有の評価ポイント
- **モジュラーアーキテクチャ**: `vocal_insight/` パッケージ構造の適切性
- **CLI統合**: 既存CLIとの互換性維持
- **音声処理**: 音響分析の正確性と効率性
- **パフォーマンス**: リアルタイム処理要件への適合性

### ドキュメント
- **要件定義**: 機能要件・非機能要件の明確性
- **技術仕様**: 実装に必要な詳細度
- **ユーザーガイド**: エンドユーザーにとっての分かりやすさ

## レビューコメントの形式

### 良い例
```
この実装は素晴らしいですが、以下の点で改善できます：

1. **パフォーマンス**: ループ処理をベクトル化することで処理速度を向上できます
2. **エラーハンドリング**: 入力値の検証を追加することで堅牢性が向上します
3. **ドキュメント**: 複雑な処理にはコメントを追加することを推奨します

**提案する修正:**
```python
# 修正案をここに記述
```
```

### 避けるべき形式
- 英語でのコメント
- 具体的な改善案のない批判
- 過度に技術的で理解困難な説明

## 特別な指示

### 日本語化について
- **技術用語**: 適切な日本語訳がある場合は日本語を使用、ない場合は英語のまま `バッククォート` で囲む
- **コードスニペット**: コード例は英語のまま、説明は日本語
- **ファイル名・関数名**: そのまま表記、説明は日本語

### 建設的なフィードバック
- **問題の指摘**: 具体的な問題点を明確に説明
- **改善案の提示**: 可能な限り具体的な修正案を提示
- **理由の説明**: なぜその修正が必要かを日本語で明確に説明

### プロジェクト価値の向上
- **ユーザー価値**: エンドユーザーにとっての価値を考慮
- **開発効率**: 開発者の生産性向上を考慮
- **品質向上**: コード品質とテスト品質の両面を評価

## レビュー例

### Pull Requestの概要例
```
## プルリクエストの概要

このPRは音程判定機能の実装を追加します。主な変更点：

- ✅ **新機能**: ユーザー歌唱とリファレンス音声の比較分析
- ✅ **パフォーマンス**: 5分以内の音源でリアルタイム処理対応
- ✅ **統合**: 既存CLIへの `--pitch-analysis` オプション追加

### レビュー対象ファイル
- `vocal_insight/pitch/analyzer.py`: 音程分析コア機能
- `vocal_insight_cli.py`: CLI統合
- `tests/test_pitch_analyzer.py`: ユニットテスト

### 評価結果
このPRは技術的に優秀で、要件を満たしています。いくつかの改善提案があります。
```

### 個別コメント例
```
この関数の実装は良いですが、以下の点で改善できます：

**問題点**: 
大きな音声ファイルでメモリ使用量が多くなる可能性があります。

**改善案**:
チャンク処理を実装することで、メモリ効率を向上させることができます。

**参考実装**:
```python
def process_in_chunks(audio_data, chunk_size=1024):
    for i in range(0, len(audio_data), chunk_size):
        yield audio_data[i:i+chunk_size]
```
```

この設定により、GitHub CopilotのPRレビューが日本語で行われ、プロジェクトの文脈に適したフィードバックが提供されるようになります。